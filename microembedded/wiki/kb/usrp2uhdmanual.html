<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage"><!-- InstanceBegin template="/Templates/microembedded-wiki.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<link rel="shortcut icon" type="image/x-icon" href="../images/sites-16.ico" />
<!--声明当前的页面的编码集-->
<meta charset="utf-8"/>
<meta name="title" content="GNU Radio 中文社区">
<meta itemprop="name" content="GNU Radio 中文社区">
<meta property="og:title" content="GNU Radio 中文社区">
<meta name="description" content="微嵌 - GNU Radio 中文维客 由 微嵌软件技术(北京)有限责任公司维护。GNU Radio 是免费的软件开发工具套件。它提供信号运行和处理模块，用它可以在易制作的低成本的射频（RF）硬件（比如：USRP 和USRP2）和通用微处理器上实现软件定义无线电。这套套件广泛用于业余爱好者，学术机构和商业机构用来研究和构建无线通信系统。">
<meta itemprop="description" content="微嵌 - GNU Radio 中文维客 由 微嵌软件技术(北京)有限责任公司维护。GNU Radio 是免费的软件开发工具套件。它提供信号运行和处理模块，用它可以在易制作的低成本的射频（RF）硬件（比如：USRP 和USRP2）和通用微处理器上实现软件定义无线电。这套套件广泛用于业余爱好者，学术机构和商业机构用来研究和构建无线通信系统。">
<meta id="meta-tag-description" property="og:description" content="微嵌 - GNU Radio 中文维客 由 微嵌软件技术(北京)有限责任公司维护。GNU Radio 是免费的软件开发工具套件。它提供信号运行和处理模块，用它可以在易制作的低成本的射频（RF）硬件（比如：USRP 和USRP2）和通用微处理器上实现软件定义无线电。这套套件广泛用于业余爱好者，学术机构和商业机构用来研究和构建无线通信系统。">
<!-- InstanceBeginEditable name="doctitle" -->
<title>GNU Radio 中文社区</title>
<!-- InstanceEndEditable -->
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >
<link rel="stylesheet" type="text/css" href="../css/css.css">
<link rel="stylesheet" type="text/css" href="../css/overlay.css">
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" zh_CN">
<div id="sites-chrome-everything-scrollbar">
    <div id="sites-chrome-everything" class="">
        <div id="sites-chrome-page-wrapper" style="direction: ltr">
            <div id="sites-chrome-page-wrapper-inside">
                <div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
                    <table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
                        <tbody>
                            <tr class="sites-header-primary-row" id="sites-chrome-userheader">
                                <td id="sites-header-title" class="sites-chrome-header-valign-bottom"><div class="sites-header-cell-buffer-wrapper">
                                        <h2><a href="http://gnuradio.microembedded.com/" id="sites-chrome-userheader-logo"> <img id="logo-img-id" src="../images/logo-me.jpg" alt="GNU Radio 中文社区" class="sites-logo sites-chrome-header-valign-bottom "></a></h2>
                                    </div></td>
                            </tr>
                            <tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
                                <td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="sites-chrome-main-wrapper">
                    <div id="sites-chrome-main-wrapper-inside"> <!-- InstanceBeginEditable name="head" -->
                    <table id="sites-chrome-main" class="sites-layout-hbox" border="0" cellpadding="{scmCellpadding}" cellspacing="0">
<tbody><tr>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="display: none;">
</div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="display: none;" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">UHD: UHD 下的 USRP2/N210</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-one-column sites-layout-hbox" cellspacing="0"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div><div style="text-align:center;font-family:simsun,serif"><p><b><font size="3">在 UHD 下使用 USRP2 和 N 系列</font><br></b></p><p><b>UHD - USRP2 and N Series Application Notes</b><br></p><hr style="font-family:simsun,serif;height:1px" size="2" width="100%"><p style="font-family:simsun,serif;text-align:left"><font size="1"></font></p><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed sites-embed-full-width" style="width:100%;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p><font size="1">目录</font></p><ol class="goog-toc"><li class="goog-toc"><font size="1"><a href="#TOC-SD-USRP2-"><strong>1 </strong>将映像文件装入 SD 卡中(仅对 USRP2)</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Unix-"><strong>1.1 </strong>使用 Unix 烧卡工具</a></li><li class="goog-toc"><a href="#TOC-windows-"><strong>1.2 </strong>使用 windows 烧卡工具</a></li></ol></font></li><li class="goog-toc"><font size="1"><a href="#TOC-USRP-N-"><strong>2 </strong>将映像文件装入板上闪存中 (仅对 USRP-N 系列)</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Unix-1"><strong>2.1 </strong>使用 Unix 的网络烧卡工具</a></li><li class="goog-toc"><a href="#TOC-Windows-"><strong>2.2 </strong>使用 Windows 的网络烧卡工具</a></li><li class="goog-toc"><a href="#TOC---Device-recovery-and-bricking"><strong>2.3 </strong>设备的恢复 - Device recovery and bricking</a></li></ol></font></li><li class="goog-toc"><font size="1"><a href="#TOC---Setup-networking"><strong>3 </strong>配置网络 - Setup networking</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC---Setup-the-host-interface"><strong>3.1 </strong>配置主机接口 - Setup the host interface</a></li><li class="goog-toc"><a href="#TOC---Multiple-devices-per-host"><strong>3.2 </strong>单口多机化 - Multiple devices per host</a></li><li class="goog-toc"><a href="#TOC-USRP-IP---Change-the-USRP2-s-IP-address"><strong>3.3 </strong>更改 USRP 的 IP 地址 - Change the USRP2's IP address</a></li></ol></font></li><li class="goog-toc"><font size="1"><a href="#TOC---Communication-problems"><strong>4 </strong>通信问题 - Communication problems</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC---Firewall-issues"><strong>4.1 </strong>防火墙 - Firewall issues</a></li><li class="goog-toc"><a href="#TOC-Ping---Ping-the-device"><strong>4.2 </strong>“Ping” 设备 - Ping the device</a></li><li class="goog-toc"><a href="#TOC---Monitor-the-serial-output"><strong>4.3 </strong>监视串口 - Monitor the serial output</a></li><li class="goog-toc"><a href="#TOC---Monitor-the-host-network-traffic"><strong>4.4 </strong>监视主网流量 - Monitor the host network traffic</a></li></ol></font></li><li class="goog-toc"><font size="1"><a href="#TOC---Addressing-the-device"><strong>5 </strong>赋予设备地址 - Addressing the device</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC---Single-device-configuration"><strong>5.1 </strong>单一设备的配置 - Single device configuration</a></li><li class="goog-toc"><a href="#TOC---Multiple-device-configuration"><strong>5.2 </strong>多台设备的配置 - Multiple device configuration</a></li></ol></font></li><li class="goog-toc"><font size="1"><a href="#TOC-MIMO---Using-the-MIMO-Cable"><strong>6 </strong>使用 MIMO 电缆 - Using the MIMO Cable</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC---Shared-ethernet-mode"><strong>6.1 </strong>共享网络模式 - Shared ethernet mode</a></li><li class="goog-toc"><a href="#TOC---Dual-ethernet-mode"><strong>6.2 </strong>双网模式 - Dual ethernet mode</a></li></ol></font></li><li class="goog-toc"><font size="1"><a href="#TOC---Hardware-setup-notes"><strong>7 </strong>硬件配置注解 - Hardware setup notes</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC---Front-panel-LEDs"><strong>7.1 </strong>前面板指示灯 - Front panel LEDs</a></li><li class="goog-toc"><a href="#TOC---10MHz"><strong>7.2 </strong>参考时钟 - 10MHz</a></li><li class="goog-toc"><a href="#TOC-PPS---Pulse-Per-Second"><strong>7.3 </strong>PPS - Pulse Per Second</a></li><li class="goog-toc"><a href="#TOC-GPS---Internal-GPSDO"><strong>7.4 </strong>内部 GPS 伺服时钟 - Internal GPSDO</a></li></ol></font></li><li class="goog-toc"><font size="1"><a href="#TOC---Miscellaneous"><strong>8 </strong>杂类 - Miscellaneous</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC---Available-Sensors"><strong>8.1 </strong>可选传感单元 - Available Sensors</a></li><li class="goog-toc"><a href="#TOC---Multiple-RX-channels"><strong>8.2 </strong>多接收链路 - Multiple RX channels</a></li></ol></font></li></ol></div></div></div></div><p></p><h2 style="font-family:simsun,serif"><a name="TOC-SD-USRP2-"></a><font size="2">将映像文件装入 SD 卡中(仅对 USRP2) </font></h2></div><hr size="2" width="100%"><p style="font-family:simsun,serif"><font size="2"><b>提示! </b>谨慎使用命令 </font><font size="2">usrp2_card_burner.py。如若指向错误的设备节点，可能会重写硬盘。请确认 </font><font size="2">--dev= 指向 SD 卡。<br></font></p><p style="font-family:simsun,serif"><font size="2"><b>提示!</b></font><font size="2"><b> </b>尽管理论上 USRP2 可以使用第三方 SD 卡。但是有些类型的 SD 卡不能同 CPLD 进行交互：<b><br></b></font></p><ul style="font-family:simsun,serif"><li>该卡可能是 SDHC，它不支持同 CPLD 的交互。</li><li>该卡有意外的时间特性。<br></li></ul><p><font size="2"><span style="font-family:simsun,serif">鉴于上面的这些因数，建议使用随机的 SD 卡。<br></span></font></p><h3><a name="TOC-Unix-"></a><font size="2"><span style="font-family:simsun,serif">使用 Unix 烧卡工具 </span></font></h3><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">sudo &lt;install-path&gt;/share/uhd/utils/usrp2_card_burner_gui.py
</span></font><br></div><p style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">
-- OR --
</span></font></p><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">
cd &lt;install-path&gt;/share/uhd/utils
</span></font><br><font size="2"><span style="font-family:simsun,serif">sudo ./usrp2_card_burner.py --dev=/dev/sd&lt;XXX&gt; --fpga=&lt;path_to_fpga_image&gt;
</span></font><br><font size="2"><span style="font-family:simsun,serif">sudo ./usrp2_card_burner.py --dev=/dev/sd&lt;XXX&gt; --fw=&lt;path_to_firmware_image&gt;
</span></font><br style="font-family:simsun,serif"></div> <font size="2"><br style="font-family:simsun,serif"></font></div><div><font style="font-family:simsun,serif" size="2">使用</font><font style="font-family:simsun,serif" size="2">选项</font><font style="font-family:simsun,serif" size="2"> </font><font style="font-family:simsun,serif" size="2">--list 可获取可能的原始设备清单。list 将会剔除容量太大无法装入 SD 卡的磁盘扇区和设备。</font><font style="font-family:simsun,serif" size="2">Linux, Mac OS X, 和 Windows</font><span style="font-family:simsun,serif"> 都具有该 </span><font style="font-family:simsun,serif" size="2">--list </font><font style="font-family:simsun,serif" size="2">选项。</font><br><h3><a name="TOC-windows-"></a><font size="2"><font size="2"><span style="font-family:simsun,serif">使用 windows 烧卡工具</span></font></font></h3><div style="margin-left:40px"><p><font size="2"><span style="font-family:simsun,serif">&lt;path_to_python.exe&gt; &lt;install-path&gt;/share/uhd/utils/usrp2_card_burner_gui.py
</span></font></p></div><h2 style="text-align:center"><a name="TOC-1"></a> </h2><h2 style="text-align:center"><a name="TOC-USRP-N-"></a><font size="2"><font size="2"><span style="font-family:simsun,serif">将映像文件装入板上闪存中</span></font><span style="font-family:simsun,serif"> (仅对 USRP-N 系列) </span></font></h2> <hr size="2" width="100%"></div><div><p><font size="2"><span style="font-family:simsun,serif">USRP-N 系列产品可以通过网络进行重新编程来更新或更改固件（</span></font><font size="2"><span style="font-family:simsun,serif">firmware</span></font><font size="2"><span style="font-family:simsun,serif">）和 FPGA 映像（</span></font><font size="2"><span style="font-family:simsun,serif">images</span></font><font size="2"><span style="font-family:simsun,serif">）。但每当在更新</span></font><font size="2"><span style="font-family:simsun,serif">映像（</span></font><font size="2"><span style="font-family:simsun,serif">images</span></font><font size="2"><span style="font-family:simsun,serif">）过程中，总是在系统重新启动（</span></font><font size="2"><span style="font-family:simsun,serif">power cycling</span></font><font size="2"><span style="font-family:simsun,serif">）之前对 FPGA 和固件两者的映像烧结。这便可确保设备一旦被重启，其映像文件与之配套。<br></span></font></p><h3><a name="TOC-Unix-1"></a><font size="2"><span style="font-family:simsun,serif">使用 Unix 的网络烧卡工具 <br></span></font></h3><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">sudo &lt;install-path&gt;/share/uhd/utils/usrp_n2xx_net_burner_gui.py
</span></font><br></div><p style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">
-- OR --

</span></font></p><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">cd &lt;install-path&gt;/share/uhd/utils
</span></font><br><font size="2"><span style="font-family:simsun,serif">./usrp_n2xx_net_burner.py --addr=&lt;ip address&gt; --fw=&lt;path for firmware image&gt;
</span></font><br><font size="2"><span style="font-family:simsun,serif">./usrp_n2xx_net_burner.py --addr=&lt;ip address&gt; --fpga=&lt;path to FPGA image&gt;
</span></font><br style="font-family:simsun,serif"></div> <h3><a name="TOC-Windows-"></a><font size="2"><font size="2"><span style="font-family:simsun,serif">使用 Windows 的网络烧卡工具</span></font></font></h3><p style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">&lt;path_to_python.exe&gt; &lt;install-path&gt;/share/uhd/utils/usrp_n2xx_net_burner_gui.py
</span></font></p><h3><a name="TOC---Device-recovery-and-bricking"></a><font size="2"><span style="font-family:simsun,serif">设备的恢复 - Device recovery and bricking </span></font></h3> </div><div><p><font size="2"><span style="font-family:simsun,serif">载入有问题的映像文件可能会招致设备处于无法工作的状态。幸运的是，</span></font><font size="2"><span style="font-family:simsun,serif">USRP-N 系列可以启用安全（只读）映像模式。如若启用安全映像模式，用户便可试图再次装入映像文件。<br></span></font></p><p><font size="2"><span style="font-family:simsun,serif">壳体内的按钮（S2)便是安全模式按钮。在上电启动过程中按下该按钮便可启动安全映像模式。持续按住该按钮直到前面板的 LED 从闪烁到稳定（</span></font><font style="color:rgb(255,0,0)" size="2"><span style="font-family:simsun,serif">blink and remain solid</span></font><font size="2"><span style="font-family:simsun,serif">）。<br></span></font></p><p><font size="2"><span style="font-family:simsun,serif">在安全模式中，</span></font><font size="2"><span style="font-family:simsun,serif">USRP-N 设备的 IP 地址总是 </span></font><font size="2"><span style="font-family:simsun,serif">192.168.10.2 。<br></span></font></p><h2 style="text-align:center"><a name="TOC---Setup-networking"></a><font size="2"><span style="font-family:simsun,serif">配置网络 - Setup networking </span></font></h2> <hr size="2" width="100%"></div><div><p><font size="2"><span style="font-family:simsun,serif">USRP2 仅支持千兆级以太网，所以其无法同 </span></font><font size="2"><span style="font-family:simsun,serif">10/100 Mbps 接口直接相互工作。尽管如此，</span></font><font size="2"><span style="font-family:simsun,serif">10/100 Mbps 接口还是可以通过一个千兆级的以太网交换机间接同 USRP2 相连接。<br></span></font></p><h3 style="color:rgb(0,0,0);font-family:simsun,serif"><a name="TOC---Setup-the-host-interface"></a><font size="2">配置</font><span style="border-collapse:separate;font-size:16px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px"><span style="font-size:14px;font-weight:bold;line-height:21px;text-align:left">主机接口</span></span><font size="2"> - Setup the host interface </font></h3> <p><font size="2"><span style="font-family:simsun,serif">USRP2 的通过千兆级以太网的通信是基于 </span></font><font size="2"><span style="font-family:simsun,serif">IP/UDP 层。其缺省 IP 地址为 </span></font><font size="2"><span style="font-family:simsun,serif">192.168.10.2。这样只需配置计算机侧一个静态 IP 地址便可使其相互通信。推荐使用 IP 地址 </span></font><font size="2"><span style="font-family:simsun,serif">192.168.10.1 和子网掩码 255.255.255.0. </span></font></p><p style="font-family:simsun,serif"><b>备注：</b>在使用 UHD 情况下，如若 USRP2 的 IP 地址没有被指定，应用软件便会使用 UDP <span style="color:rgb(0,0,0);font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:18px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);font-size:small">广播的数据包来定位 USRP2。存在这样一些情况，防火墙软件会阻碍 </span>UDP <span style="color:rgb(0,0,0);font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:18px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);font-size:small">广播的数据包。在此建议更改或取消防火墙相关功用。</span></p><h3><a name="TOC---Multiple-devices-per-host"></a><font size="2"><span style="font-family:simsun,serif">单口多机化 - Multiple devices per host </span></font></h3> <p style="font-family:simsun,serif"><font size="2">为最大化数据</font><span style="color:rgb(0,0,0);font-size:13px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:20px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255)">处理能力，建议一个以太网接口配置一台 USRP2 设备。尽管如此，通过千兆级的交换机也可以同多台设备相互连接。无论哪种情况，每个以太网接口单元都必须有自己的子网，其相关的 USRP2 的地址应当处于其子网范围内。例如：<br></span></p><p style="margin-left:40px"><b><font size="2"><span style="font-family:simsun,serif">USRP2 设备 0 的配置: </span></font></b></p><ul><ul><li><span style="font-family:simsun,serif">以太网接口 IPv4 地址: 192.168.10.1</span></li><li><span style="font-family:simsun,serif">以太网接口子网掩码</span><span style="font-family:simsun,serif">: 255.255.255.0</span></li><li><span style="font-family:simsun,serif">USRP2 设备的 IPv4 地址: 192.168.10.2 </span></li></ul></ul><p style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif"><b>USRP2 设备 1 的配置:</b> </span></font></p><ul><ul><li><span style="font-family:simsun,serif">以太网接口 IPv4 地址</span><span style="font-family:simsun,serif">: 192.168.20.1</span></li><li><span style="font-family:simsun,serif">以太网接口子网掩码</span><span style="font-family:simsun,serif">: 255.255.255.0</span></li><li><span style="font-family:simsun,serif">USRP2 设备的 IPv4 地址</span><span style="font-family:simsun,serif">: 192.168.20.2 </span></li></ul></ul><h3><a name="TOC-USRP-IP---Change-the-USRP2-s-IP-address"></a><font size="2"><span style="font-family:simsun,serif">更改 USRP 的 IP 地址 - Change the USRP2's IP address </span></font></h3><span style="font-family:simsun,serif">基于下面可能的原因需要对 USRP2 的 IP 地址进行更改：<br></span><ul style="font-family:simsun,serif"><li>满足特定的网络配置要求</li><li>在同一宿主计算下使用多台 USRP2<br></li><li>使用（用户）熟知的 IP 地址（以防遗忘）<br></li></ul><p style="margin-left:40px"><span style="font-family:simsun,serif"><b>方法 1: </b>更改 USRP2 IP 地址的先决条件是必须清楚其正在使用的地址，网络也必须如上所述地被恰当的配置成功。然后运行下面的命令：</span></p><div style="margin-left:80px"><span style="font-family:simsun,serif">cd &lt;install-path&gt;/share/uhd/utils </span><br><span style="font-family:simsun,serif">./usrp_burn_mb_eeprom --args=&lt;optional device args&gt; --key=ip-addr --val=192.168.10.3 </span><br style="font-family:simsun,serif"></div><p style="margin-left:40px;font-family:simsun,serif"><b>方法 </b><b>2 (仅适用于 Linux):</b> 此方法假定在对设备现在使用的 IP 地址不清楚的情况下。它使用以太网的原始<span style="color:rgb(0,0,0);font-size:13px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:19px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255)">数据包短接（</span><span style="font-family:simsun,serif">bypass） </span><span style="font-family:simsun,serif">IP/UDP 协议层而直接同 USRP2 通信。如下运行命令：<br></span></p><div style="margin-left:80px"><span style="font-family:simsun,serif">cd &lt;install-path&gt;/share/uhd/utils sudo </span><br><span style="font-family:simsun,serif">./usrp2_recovery.py --ifc=eth0 --new-ip=192.168.10.3 </span></div><h2 style="text-align:center"><a name="TOC---Communication-problems"></a><font size="2"><span style="font-family:simsun,serif">通信问题 - Communication problems </span></font></h2> <hr size="2" width="100%"></div><div><p><font size="2"><span style="font-family:simsun,serif">首次构建一个开发平台时，碰到各种各样的 USRP 通信问题是不足为奇的。下面便是一些简化的问题和诊断的建议。<br></span></font></p><h3><a name="TOC---Firewall-issues"></a><font size="2"><span style="font-family:simsun,serif">防火墙 - Firewall issues </span></font></h3><p> <font size="2"><span style="font-family:simsun,serif">在没有配置设备的 IP 地址的情况下，设备查询机制便会通过各个以太网接口广播 UDP 数据包来试图建立相互间的通信。众多防火墙会阻碍对这些广播信息的反馈。如若（如此，只能）禁止系统的防火墙功能、或明晰需确认的设备的 IP 地址。在此情况下的建议是：要么关闭防火墙、要么建立一个规则为端口号为 49152 的 UDP 的数据源建立通道。<br></span></font></p><h3><a name="TOC-Ping---Ping-the-device"></a><font size="2"><span style="font-family:simsun,serif">“Ping” 设备 - Ping the device </span></font></h3></div><div> <p><font size="2"><span style="font-family:simsun,serif">USRP 响应 </span></font><font size="2"><span style="font-family:simsun,serif">icmp echo 。 成功的 ping 意味着设备已经被成功地启动，也意味着希望的 IP 地址被成功的配置。<br></span></font></p><p style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">ping 192.168.10.2
</span></font></p><h3><a name="TOC---Monitor-the-serial-output"></a><font size="2"><span style="font-family:simsun,serif">监视串口 - Monitor the serial output </span></font></h3> </div><div><p><font size="2"><span style="font-family:simsun,serif"><br></span></font></p><p><font size="2"><span style="font-family:simsun,serif">Read the serial port to get debug verbose from the embedded microcontroller. The microcontroller prints useful information about IP addresses, MAC addresses, control packets, fast-path settings, and bootloading. Use a standard USB to 3.3v-level serial converter at 230400 baud. Connect GND to the converter ground, and connect TXD to the converter receive. The RXD pin can be left unconnected as this is only a one-way communication. </span></font></p><ul><li><font size="2"><span style="font-family:simsun,serif">USRP2: Serial port located on the rear edge</span></font></li><li><font size="2"><span style="font-family:simsun,serif">N210: Serial port located on the left side </span></font></li></ul><h3><a name="TOC---Monitor-the-host-network-traffic"></a><font size="2"><span style="font-family:simsun,serif">监视主网流量 - Monitor the host network traffic </span></font></h3> <font size="2"><span style="font-family:simsun,serif">Use wireshark to monitor packets sent to and received from the device. </span><br style="font-family:simsun,serif"></font></div><div><h2 style="text-align:center"><a name="TOC---Addressing-the-device"></a><font size="2"><span style="font-family:simsun,serif">赋予设备地址 - Addressing the device </span></font></h2> <hr size="2" width="100%"></div><div><h3><a name="TOC---Single-device-configuration"></a><font size="2"><span style="font-family:simsun,serif">单一设备的配置 - Single device configuration </span></font></h3> <p><font size="2"><span style="font-family:simsun,serif">In a single-device configuration, the USRP device must have a unique IPv4 address on the host computer. The USRP can be identified through its IPv4 address, resolvable hostname, or by other means. See the application notes on </span><a href="http://www.ettus.com/uhd_docs/manual/html/identification.html" style="font-family:simsun,serif">device identification</a><span style="font-family:simsun,serif">. Use this addressing scheme with the single_usrp interface. </span></font></p><p><font size="2"><span style="font-family:simsun,serif">Example device address string representation for a USRP2 with IPv4 address 192.168.10.2 addr=192.168.10.2
</span></font></p><h3><a name="TOC---Multiple-device-configuration"></a><font size="2"><span style="font-family:simsun,serif">多台设备的配置 - Multiple device configuration </span></font></h3> <p><font size="2"><span style="font-family:simsun,serif">In a multi-device configuration, each USRP device must have a unique IPv4 address on the host computer. The device address parameter keys must be suffixed with the device index. Each parameter key should be of the format &lt;key&gt;&lt;index&gt;. Use this addressing scheme with the multi_usrp interface. </span></font></p><ul><li><span style="font-family:simsun,serif">The order in which devices are indexed corresponds to the indexing of the transmit and receive channels.</span></li><li><span style="font-family:simsun,serif">The key indexing provides the same granularity of device identification as in the single device case. </span></li></ul><p><font size="2"><span style="font-family:simsun,serif">Example device address string representation for 2 USRP2s with IPv4 addresses 192.168.10.2 and 192.168.20.2 <br></span></font></p><p style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">addr0=192.168.10.2, addr1=192.168.20.2
</span></font></p><h2 style="text-align:center"><a name="TOC-MIMO---Using-the-MIMO-Cable"></a><font size="2"><span style="font-family:simsun,serif">使用 MIMO 电缆 - Using the MIMO Cable </span></font></h2> <hr size="2" width="100%"></div><div><p><font size="2"><span style="font-family:simsun,serif">The MIMO cable allows two USRP devices to share reference clocks, time synchronization, and the ethernet interface. </span></font></p><h3 style="font-family:simsun,serif"><a name="TOC---Shared-ethernet-mode"></a><font size="2">共享网络模式 - Shared ethernet mode </font></h3></div><div><font size="2"><span style="font-family:simsun,serif">In shared ethernet mode, only one device in the configuration can be attached to the ethernet. This device will be referred to as the master, and the other device, the slave. </span></font><ul><li><font size="2"><span style="font-family:simsun,serif">The master provides reference clock and time synchronization to the slave.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">All data passing between the host and the slave is routed over the MIMO cable.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Both master and slave must have different IPv4 addresses in the same subnet.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">The master and slave may be used individually or in a multi-device configuration.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">External clocking is optional, and should only be supplied to the master device.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">The role of slave and master may be switched with the "mimo_mode" device address (see dual ethernet mode). </span></font></li></ul></div><div><font size="2"><span style="font-family:simsun,serif">Example device address string representation for 2 USRP2s with IPv4 addresses 192.168.10.2 (master) and 192.168.10.3 (slave) <br></span></font><p style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">-- Multi-device example --

</span></font></p><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">addr0=192.168.10.2, addr1=192.168.10.3

</span></font><br></div><p style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">-- Two single devices example --

</span></font></p><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">addr=192.168.10.2

</span></font><br><font size="2"><span style="font-family:simsun,serif">addr=192.168.10.3
</span></font><br style="font-family:simsun,serif"></div><h3 style="text-align:left"><a name="TOC---Dual-ethernet-mode"></a><font size="2"><span style="font-family:simsun,serif">双网模式 - Dual ethernet mode </span></font></h3><font size="2"><span style="font-family:simsun,serif">In dual ethernet mode, both devices in the configuration must be attached to the ethernet. One of the devices in the configuration will be configured to provide synchronization. This device will be referred to as the master, and the other device, the slave. </span><br style="font-family:simsun,serif"></font><ul><li><font size="2"><span style="font-family:simsun,serif">The master provides reference clock and time synchronization to the slave.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">The devices require the special device address argument "mimo_mode" set.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Both master and slave must have different IPv4 addresses in different subnets.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">The master and slave may be used individually or in a multi-device configuration.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">External clocking is optional, and should only be supplied to the master device. </span></font></li></ul><font size="2"><span style="font-family:simsun,serif">Example device address string representation for 2 USRP2s with IPv4 addresses 192.168.10.2 (master) and 192.168.20.2 (slave) <br></span></font><p style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">-- Multi-device example --

</span></font></p><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">addr0=192.168.10.2, mimo_mode0=master, addr1=192.168.20.2, mimo_mode1=slave
</span></font><br></div><p style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">
-- Two single devices example --

</span></font></p><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">addr=192.168.10.2, mimo_mode=master

</span></font><br><font size="2"><span style="font-family:simsun,serif">addr=192.168.20.2, mimo_mode=slave
</span></font><br style="font-family:simsun,serif"></div><h2 style="text-align:center"><a name="TOC---Hardware-setup-notes"></a><font size="2"><span style="font-family:simsun,serif">硬件配置注解 - Hardware setup notes </span></font></h2> <hr size="2" width="100%"></div><div><h3><a name="TOC---Front-panel-LEDs"></a><font size="2"><span style="font-family:simsun,serif">前面板指示灯 - Front panel LEDs </span></font></h3> <p><font size="2"><span style="font-family:simsun,serif">The LEDs on the front panel can be useful in debugging hardware and software issues. The LEDs reveal the following about the state of the device: </span></font></p><ul><li><font size="2"><span style="font-family:simsun,serif">LED A: transmitting</span></font></li><li><font size="2"><span style="font-family:simsun,serif">LED B: mimo cable link</span></font></li><li><font size="2"><span style="font-family:simsun,serif">LED C: receiving</span></font></li><li><font size="2"><span style="font-family:simsun,serif">LED D: firmware loaded</span></font></li><li><font size="2"><span style="font-family:simsun,serif">LED E: reference lock</span></font></li><li><font size="2"><span style="font-family:simsun,serif">LED F: CPLD loaded </span></font></li></ul><h3><a name="TOC---10MHz"></a><font size="2"><span style="font-family:simsun,serif">参考时钟 - 10MHz </span></font></h3> </div><div><p><font size="2"><span style="font-family:simsun,serif">Using an external 10MHz reference clock, square wave will offer the best phase noise performance, but sinusoid is acceptable. The reference clock requires the following power level: </span></font></p><ul><li><font size="2"><span style="font-family:simsun,serif">USRP2 5 to 15dBm</span></font></li><li><font size="2"><span style="font-family:simsun,serif">N2XX 0 to 15dBm </span></font></li></ul><h3><a name="TOC-PPS---Pulse-Per-Second"></a><font size="2"><span style="font-family:simsun,serif">PPS - Pulse Per Second</span></font></h3> <p><font size="2"><span style="font-family:simsun,serif">Using a PPS signal for timestamp synchronization requires a square wave signal with the following amplitude: </span></font></p><ul><li><font size="2"><span style="font-family:simsun,serif">USRP2 5Vpp</span></font></li><li><font size="2"><span style="font-family:simsun,serif">N2XX 3.3 to 5Vpp </span></font></li></ul><p><font size="2"><span style="font-family:simsun,serif">Test the PPS input with the following app: </span></font></p><ul><li><font size="2"><span style="font-family:simsun,serif">&lt;args&gt; are device address arguments (optional if only one USRP is on your machine) </span></font></li></ul><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">cd &lt;install-path&gt;/share/uhd/examples
</span></font><br><font size="2"><span style="font-family:simsun,serif">./test_pps_input --args=&lt;args&gt;
</span></font><br style="font-family:simsun,serif"></div><h3><a name="TOC-GPS---Internal-GPSDO"></a><font size="2"><span style="font-family:simsun,serif">内部 GPS 伺服时钟 - Internal GPSDO </span></font></h3> <p><font size="2"><span style="font-family:simsun,serif">Please see the GPSDO application note for information on configuring and using the internal GPSDO. </span></font></p><font size="2"><b><span style="font-family:simsun,serif">Installation instructions: </span></b><br style="font-family:simsun,serif"></font></div><ol><li><font size="2"><span style="font-family:simsun,serif">Remove the daughterboard.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Move J510 jumper on the motherboard from 1-2 to 2-3 in order to switch from external 10 MHz Ref Clock to GPSDO’s 10 MHz Ref Clock</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Screw the GPSDO module in place with the screws provided. The screws are treated to avoid loosening with vibration.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Connect the GPSDO power cable to J509 on the motherboard, and then to connector D on the GPSDO module</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Connect an SMB to SMA cable between connectors B and J506 (PPS2)</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Connect an SMB to SMA cable between connectors C and J507 (CLK REF2)</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Connect the serial cable between connectors A and J312 (RS232-3) on the motherboard. If J312 on your USRP isn’t a keyed connector, please ensure to connect pin1 (TX) of connector A to pin3 (RX) on J312.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Remove the washer and nut from the MMCX to SMA-Bulkhead cable. Connect it to connector E and then insert SMA-Bulkhead connector through the hole in the rear panel. Tighten nut to fasten in place.</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Replace the daughterboard pushing all the cables underneath. </span></font></li></ol><div><p><font size="2"><span style="font-family:simsun,serif">Then run the following commands: </span></font></p><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">cd &lt;install-path&gt;/share/uhd/utils
</span></font><br><font size="2"><span style="font-family:simsun,serif">./usrp_burn_mb_eeprom --args=&lt;optional device args&gt; --key=gpsdo --val=internal
</span></font><br style="font-family:simsun,serif"></div><p><b><font size="2"><span style="font-family:simsun,serif">Removal instructions: </span></font></b></p><p> <font size="2"><span style="font-family:simsun,serif">Restore the jumper setting, disconnect the cables, and unscrew the GPSDO unit. Then run the following commands: </span></font></p></div><div><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">cd &lt;install-path&gt;/share/uhd/utils
</span></font><br><font size="2"><span style="font-family:simsun,serif">./usrp_burn_mb_eeprom --args=&lt;optional device args&gt; --key=gpsdo --val=none
</span></font><br style="font-family:simsun,serif"></div><p><font size="2"><span style="font-family:simsun,serif"><b>Antenna Types:</b> </span></font></p> <font size="2"><span style="font-family:simsun,serif">The GPSDO is capable of supplying a 3V for active GPS antennas or supporting passive antennas </span><br style="font-family:simsun,serif"></font></div><div><font size="2"><br style="font-family:simsun,serif"></font><div style="text-align:center"><h2><a name="TOC---Miscellaneous"></a><font size="2"><span style="font-family:simsun,serif">杂类 - Miscellaneous </span></font></h2> </div><hr size="2" width="100%"><h3><a name="TOC---Available-Sensors"></a><font size="2"><span style="font-family:simsun,serif">可选传感单元 - Available Sensors </span></font></h3><p> <font size="2"><span style="font-family:simsun,serif">The following sensors are available for the USRP2/N-Series motherboards; they can be queried through the API. </span></font></p></div><div><ul><li><font size="2"><span style="font-family:simsun,serif">mimo_locked - clock reference locked over the MIMO cable</span></font></li><li><font size="2"><span style="font-family:simsun,serif">ref_locked - clock reference locked (internal/external)</span></font></li><li><font size="2"><span style="font-family:simsun,serif">gps_time - GPS epoch seconds (available when GPSDO installed)</span></font></li><li><font size="2"><span style="font-family:simsun,serif">gps_locked - GPS lock status </span></font></li></ul><h3><a name="TOC---Multiple-RX-channels"></a><font size="2"><span style="font-family:simsun,serif">多接收链路 - Multiple RX channels </span></font></h3><p> <font size="2"><span style="font-family:simsun,serif">There are two complete DDC chains in the FPGA. In the single channel case, only one chain is ever used. To receive from both channels, the user must set the RX subdevice specification. This hardware has only one daughterboard slot, which has been aptly named slot "0". </span></font></p><p><font size="2"><span style="font-family:simsun,serif">In the following example, a TVRX2 is installed. Channel 0 is sourced from subdevice RX1, channel 1 is sourced from subdevice RX2: </span></font></p></div><div><p style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">usrp-&gt;set_rx_subdev_spec("0:RX1 0:RX2");
</span></font></p><font size="2"><br style="font-family:simsun,serif"><br style="font-family:simsun,serif"><br style="font-family:simsun,serif"></font> </div><div style="font-family:simsun,serif"><font size="2"><br></font></div><div><b><font size="2"><br style="font-family:simsun,serif"><span style="font-family:simsun,serif">注：</span><a href="http://www.ettus.com/uhd_docs/manual/html/usrp2.html" style="font-family:simsun,serif" target="_blank">UHD - USRP2 Application Notes</a><span style="font-family:simsun,serif">（原文出处，翻译整理仅供参考!）</span></font></b><br></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div id="sites-attachments-container">
</div>
</div>
</div> 
</td> 
<td id="sites-chrome-sidebar-right" class="sites-layout-sidebar-right initial" style="width:190px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_04328132504654081" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.microembedded.com.cn/" class="sites-navigation-link">微嵌软件技术(北京)有限责任公司</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7209174634271963" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../kb/usrp.html" class="sites-navigation-link">微嵌 - KnowledgeBase</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/usrp" jotid="wuid:gx:32517581af6b8b5b" class="sites-navigation-link">FAQ: 如何选择 USRP 平台 ?</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/usrpe1xx" jotid="wuid:gx:320105673ec850f8" class="sites-navigation-link">FAQ: 如何着手 E1XX 系列 ?</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/usrp2howto" jotid="wuid:gx:2a822d673b93e67b" class="sites-navigation-link">FAQ: 如何着手 USRP2 ？</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_8129618135961609" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://kb.microembedded.com/grc" class="sites-navigation-link">微嵌 - GRC 中文维客</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7612165220984319" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://kb.microembedded.com/uhdwikistart" class="sites-navigation-link">微嵌 - UHD 中文维客</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/uhddboards" jotid="wuid:gx:1fa384b816b979f" class="sites-navigation-link">UHD: UHD 下的 USRP 子板</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/usrpuhdmanual" jotid="wuid:gx:4f4c36184c668f44" class="sites-navigation-link">UHD: UHD 下的 USRP 母板</a></div></li><li class=""><div class="current-bg" jotid="wuid:gx:555f526449542c7a" dir="ltr" style="padding-left: 5px;">UHD: UHD 下的 USRP2/N210</div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7189595725178437" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_08307463648904134" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://kb.microembedded.com/ossie" class="sites-navigation-link">微嵌 - OSSIE 中文维客</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://kb.microembedded.com/sdr" class="sites-navigation-link">微嵌 - SDR 教育园地</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://ossie.microembedded.com/titleindex" class="sites-navigation-link">微嵌 - OSSIE 按标题索引</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_9846266509709335" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_5419183123406403" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://gnuradio.microembedded.com/wikistart" class="sites-navigation-link">微嵌 - GNU Radio 中文维客</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://diy.microembedded.com/" class="sites-navigation-link">微嵌 - 搭建软件无线电系统</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://gnuradio.microembedded.com/openbts" class="sites-navigation-link">微嵌 - OpenBTS 中文维客</a></div></li></ul></div></div>
</td>
</tr>
</tbody></table>
                    
                     <!-- InstanceEndEditable --> </div>
                </div>
                <div id="sites-chrome-footer-wrapper">
                    <div id="sites-chrome-footer-wrapper-inside">
                        <div id="sites-chrome-footer">
                            <div xmlns="http://www.w3.org/1999/xhtml" class="sites-subfooter">
                                <div class="sites-subfooter-content">
                                    <div dir="ltr">
                                        <div style="overflow:auto;text-align:center;">
                                            <div>
                                                <p><b><span style="font-family:simsun,serif"><a href="http://www.microembedded.com.cn/">微嵌电子技术（北京）有限责任公司</a></span></b></p>
                                                <span style="font-family:simsun,serif"><br>
                                                <span style="font-family:ms song,monospace"><a href="mailto:info@microembedded.com">info@microembedded.com</a></span><br>
                                                <br>
                                                电话：（010）62416824 / (010) 82168683 传真：（010）62416834  客服 QQ：800028546<br>
                                                <br>
                                                地址：<a href="http://g.co/maps/y8g9q">北京市海淀区中关村南大街甲 10 号银海大厦七层南 217 室</a> 邮编：100081<br>
                                                <br>
                                                <br>
                                                <a href="http://www.miibeian.gov.cn/">©2009 MicroEmbedded 备案信息：京ICP备15049573号 京公网安备：110108904713</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="sites-chrome-onebar-footer"> </div>
</body>
<!-- InstanceEnd --></html>