<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage"><!-- InstanceBegin template="/Templates/microembedded-wiki.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<link rel="shortcut icon" type="image/x-icon" href="../images/sites-16.ico" />
<!--声明当前的页面的编码集-->
<meta charset="utf-8"/>
<meta name="title" content="GNU Radio 中文社区">
<meta itemprop="name" content="GNU Radio 中文社区">
<meta property="og:title" content="GNU Radio 中文社区">
<meta name="description" content="微嵌 - GNU Radio 中文维客 由 微嵌软件技术(北京)有限责任公司维护。GNU Radio 是免费的软件开发工具套件。它提供信号运行和处理模块，用它可以在易制作的低成本的射频（RF）硬件（比如：USRP 和USRP2）和通用微处理器上实现软件定义无线电。这套套件广泛用于业余爱好者，学术机构和商业机构用来研究和构建无线通信系统。">
<meta itemprop="description" content="微嵌 - GNU Radio 中文维客 由 微嵌软件技术(北京)有限责任公司维护。GNU Radio 是免费的软件开发工具套件。它提供信号运行和处理模块，用它可以在易制作的低成本的射频（RF）硬件（比如：USRP 和USRP2）和通用微处理器上实现软件定义无线电。这套套件广泛用于业余爱好者，学术机构和商业机构用来研究和构建无线通信系统。">
<meta id="meta-tag-description" property="og:description" content="微嵌 - GNU Radio 中文维客 由 微嵌软件技术(北京)有限责任公司维护。GNU Radio 是免费的软件开发工具套件。它提供信号运行和处理模块，用它可以在易制作的低成本的射频（RF）硬件（比如：USRP 和USRP2）和通用微处理器上实现软件定义无线电。这套套件广泛用于业余爱好者，学术机构和商业机构用来研究和构建无线通信系统。">
<!-- InstanceBeginEditable name="doctitle" -->
<title>GNU Radio 中文社区</title>
<!-- InstanceEndEditable -->
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >
<link rel="stylesheet" type="text/css" href="../css/css.css">
<link rel="stylesheet" type="text/css" href="../css/overlay.css">
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" zh_CN">
<div id="sites-chrome-everything-scrollbar">
    <div id="sites-chrome-everything" class="">
        <div id="sites-chrome-page-wrapper" style="direction: ltr">
            <div id="sites-chrome-page-wrapper-inside">
                <div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
                    <table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
                        <tbody>
                            <tr class="sites-header-primary-row" id="sites-chrome-userheader">
                                <td id="sites-header-title" class="sites-chrome-header-valign-bottom"><div class="sites-header-cell-buffer-wrapper">
                                        <h2><a href="http://gnuradio.microembedded.com/" id="sites-chrome-userheader-logo"> <img id="logo-img-id" src="../images/logo-me.jpg" alt="GNU Radio 中文社区" class="sites-logo sites-chrome-header-valign-bottom "></a></h2>
                                    </div></td>
                            </tr>
                            <tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
                                <td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="sites-chrome-main-wrapper">
                    <div id="sites-chrome-main-wrapper-inside"> <!-- InstanceBeginEditable name="head" -->
                    <table id="sites-chrome-main" class="sites-layout-hbox" border="0" cellpadding="{scmCellpadding}" cellspacing="0">
<tbody><tr>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="display: none;">
</div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="display: none;" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">UHD: UHD 下的 USRP 母板</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-one-column sites-layout-hbox" cellspacing="0"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div style="text-align:center"><p style="font-family:simsun,serif"><b><font size="3">在 UHD 下使用 USRP 母板<br></font></b></p><p><b><span style="font-family:simsun,serif">UHD - USRP1 Application Notes</span></b></p><hr style="height:1px" size="2" width="100%"></div><div style="font-family:simsun,serif">
<font style="font-family:simsun,serif" size="1"><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed sites-embed-full-width" style="width:100%;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>目录</p><ol class="goog-toc"><li class="goog-toc"><a href="#TOC---Specify-a-non-standard-image"><strong>1 </strong>明确非标映像文件 - Specify a non-standard image</a></li><li class="goog-toc"><a href="#TOC---Specifying-the-subdevice-to-use"><strong>2 </strong>明确所使用的子设备 - Specifying the subdevice to use</a></li><li class="goog-toc"><a href="#TOC---Missing-and-emulated-features"><strong>3 </strong>优劣特性 - Missing and emulated features</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC---List-of-emulated-features"><strong>3.1 </strong>优势特性清单 - List of emulated features</a></li></ol></li><li class="goog-toc"><a href="#TOC--List-of-missing-features"><strong>4 </strong>劣势特性清单 -List of missing features</a></li><li class="goog-toc"><a href="#TOC---OS-specific-notes"><strong>5 </strong>明晰操作系统的注解 - OS specific notes</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Linux---setup-ude-"><strong>5.1 </strong>Linux - 设备管理器的配置（setup ude）</a></li><li class="goog-toc"><a href="#TOC-Windows---"><strong>5.2 </strong>Windows - 驱动的安装</a></li></ol></li><li class="goog-toc"><a href="#TOC---Hardware-setup-notes"><strong>6 </strong>硬件配置的注解 - Hardware setup notes</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC---External-clock-modification"><strong>6.1 </strong>外部时钟的修改 - External clock modification</a></li></ol></li></ol></div></div></div></div></font><h2 style="text-align:center;font-family:simsun,serif"><a name="TOC---Specify-a-non-standard-image"></a><font size="2">明确非标映像文件 - Specify a non-standard image</font></h2><hr style="font-family:simsun,serif" size="2" width="100%"><font style="font-family:simsun,serif" size="2">标准的 USRP1 的映像文件安装包包含两个 FPGA 映像文件：<br></font><ul style="font-family:simsun,serif"><li><font size="2">usrp1_fpga.rbf: 2 DDCs + 2 DUCs</font></li><li><font size="2">usrp1_fpga_4rx.rbf: 4 DDCs + 0 DUCs </font></li></ul><p style="font-family:simsun,serif"><font size="2">USRP1 的缺省的配置是 2 个 DDCs 和 2 个 DUCs 构建的 FPGA 映像文件。然而，一个设备的地址参数<br></font></p><p style="font-family:simsun,serif"><font size="2">By default, the USRP1 uses the FPGA image with 2 DDCs and 2 DUCs. However, a device address parameter can be used to override the FPGA image selection to use an alternate or a custom FPGA image. See the images application notes for installing custom images. </font></p><p style="font-family:simsun,serif"><font size="2">Example device address string representations to specify non-standard firmware and/or FPGA images:</font></p><div style="margin-left:40px;font-family:simsun,serif"><p><font size="2">fpga=usrp1_fpga_4rx.rbf<br></font></p></div><div style="margin-left:40px;font-family:simsun,serif"><p><font size="2">-- OR --</font></p></div><div style="margin-left:40px;font-family:simsun,serif"><p><font size="2">fw=usrp1_fw_custom.ihx<br></font></p></div><div style="margin-left:40px;font-family:simsun,serif"><p><font size="2">-- OR --</font></p></div><div style="margin-left:40px;font-family:simsun,serif"><p><font size="2">fpga=usrp1_fpga_4rx.rbf, fw=usrp1_fw_custom.ihx<br></font></p></div><h2 style="text-align:center;font-family:simsun,serif"><a name="TOC---Specifying-the-subdevice-to-use"></a><font size="2">明确所使用的子设备 - Specifying the subdevice to use</font></h2><hr size="2" width="100%"><p style="font-family:simsun,serif"><font size="2">The USRP1 has multiple daughterboard slots, known as slot A and slot B. The subdevice specification can be used to select the daughterboard and subdevice for each channel. For daughterboards with one one subdevice, the subdevice name may be left blank for automatic selection. </font></p><p style="font-family:simsun,serif"><font size="2">Ex: The subdev spec markup string to select a WBX on slot B. Notice the use of the blank subdevice name for automatic selection.</font></p><div style="margin-left:40px;font-family:simsun,serif"><font size="2">B:<br>-- OR --<br>B:0<br></font></div><font style="font-family:simsun,serif" size="2">Ex: The subdev spec markup string to select a BasicRX on slot B.
Notice that the subdevice name is always specified in the 3 possible cases.<br></font><pre style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">B:AB</span><br style="font-family:simsun,serif"><span style="font-family:simsun,serif">-- OR --</span><br style="font-family:simsun,serif"><span style="font-family:simsun,serif">B:A</span><br style="font-family:simsun,serif"><span style="font-family:simsun,serif">-- OR --</span><br style="font-family:simsun,serif"><span style="font-family:simsun,serif">B:B</span><br></font></pre><h2 style="text-align:center"><a name="TOC---Missing-and-emulated-features"></a><font size="2"><span style="font-family:simsun,serif">优劣特性 - Missing and emulated features </span></font></h2><hr size="2" width="100%"><p><font size="2"><span style="font-family:simsun,serif">The USRP1 FPGA does not have the necessary space to support the advanced streaming capabilities that are possible with the newer USRP devices. Some of these features are emulated in software to support the API. </span></font></p><h3><a name="TOC---List-of-emulated-features"></a><font size="2"><span style="font-family:simsun,serif">优势特性清单 - List of emulated features </span></font></h3><ul><li> <font size="2"><span style="font-family:simsun,serif">Setting the current device time</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Getting the current device time</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Transmitting at a specific time</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Transmitting a specific number of samples</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Receiving at a specific time</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Receiving a specific number of samples</span></font></li><li><font size="2"><span style="font-family:simsun,serif">End of burst flags for transmit/receive </span></font></li></ul></div><div style="font-family:simsun,serif"><p><font size="2"><span style="font-family:simsun,serif"><b>Note:</b> These emulated features rely on the host system's clock for timed operations, and therefore may not have sufficient precision for the application. </span></font></p><h2 style="text-align:left"><a name="TOC--List-of-missing-features"></a><font><font size="2"><span style="font-family:simsun,serif">劣</span></font></font><font><font size="2"><span style="font-family:simsun,serif">势特性清单 -</span></font></font><font size="2"><span style="font-family:simsun,serif">List of missing features </span></font></h2><ul><li> <font size="2"><span style="font-family:simsun,serif">Notification on late stream command</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Notification on late transmit packet</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Notification on broken chain error</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Notification on underflow or overflow</span></font></li><li><font size="2"><span style="font-family:simsun,serif">Start of burst flags for transmit/receive </span></font></li></ul></div><div style="font-family:simsun,serif"><h2 style="text-align:center"><a name="TOC---OS-specific-notes"></a><font size="2"><span style="font-family:simsun,serif">明晰操作系统的注解 - OS specific notes </span></font></h2> <hr size="2" width="100%"><h3><a name="TOC-Linux---setup-ude-"></a><font size="2"><span style="font-family:simsun,serif">Linux - 设备管理器的配置（setup ude）</span></font><font size="2"><span style="font-family:simsun,serif"> </span></font></h3><p> <font size="2"><span style="font-family:simsun,serif">On Linux, udev handles USB plug and unplug events. The following commands create a udev rule for the USRP1 so that non-root users may access the device: </span></font></p><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">echo 'ACTION=="add", BUS=="usb", SYSFS{idVendor}=="fffe", SYSFS{idProduct}=="0002", MODE:="0666"' &gt; tmpfile
</span></font><br><font size="2"><span style="font-family:simsun,serif">sudo chown root.root tmpfile
</span></font><br><font size="2"><span style="font-family:simsun,serif">sudo mv tmpfile /etc/udev/rules.d/10-usrp.rules
</span></font><br><font size="2"><span style="font-family:simsun,serif">sudo udevadm control --reload-rules
</span></font><br style="font-family:simsun,serif"></div></div><div style="font-family:simsun,serif"><h3><a name="TOC-Windows---"></a><font size="2"><span style="font-family:simsun,serif">Windows - 驱动的安装 </span></font></h3> <p><font size="2"><span style="font-family:simsun,serif">On Windows, a driver must be installed the first time the USRP1 is attached to the host computer. A download link for this driver can be found on the UHD wiki page. Download and unpack the driver, and direct the Windows driver install wizard to the .inf file. </span></font></p></div><div style="font-family:simsun,serif"><h2 style="text-align:center"><a name="TOC---Hardware-setup-notes"></a><font size="2"><span style="font-family:simsun,serif">硬件配置的注解 - Hardware setup notes </span></font></h2> <hr size="2" width="100%"><h3><a name="TOC---External-clock-modification"></a><font size="2"><span style="font-family:simsun,serif">外部时钟的修改 - External clock modification </span></font></h3><p><font size="2"><span style="font-family:simsun,serif">The USRP can be modified to accept an external clock reference instead of the 64MHz onboard reference.</span></font> </p><ul><li>Solder SMA (LTI-SASF54GT) connector to J2001</li><li>Move 0 ohm 0603 resistor R2029 to R2030</li><li>Move 0.01uF 0603 capacitor C925 to C926</li><li>Remove 0.01uF 0603 capacitor C924 </li></ul><p><font size="2"><span style="font-family:simsun,serif">The new external clock needs to be a square wave between +7dBm and +15dBm </span></font></p><p><font size="2"><span style="font-family:simsun,serif">After the hardware modification, the user should burn the setting into the EEPROM, so UHD can initialize with the correct clock rate. Run the following commands to record the setting into the EEPROM: </span></font></p><div style="margin-left:40px"><font size="2"><span style="font-family:simsun,serif">cd &lt;install-path&gt;/share/uhd/utils
</span></font><br><font size="2"><span style="font-family:simsun,serif">./usrp_burn_mb_eeprom --args=&lt;optional device args&gt; --key=mcr --val=&lt;rate&gt;
</span></font><br style="font-family:simsun,serif"></div><font size="2"><br style="font-family:simsun,serif"><br style="font-family:simsun,serif"><br style="font-family:simsun,serif"><br style="font-family:simsun,serif"><br style="font-family:simsun,serif"><br style="font-family:simsun,serif"><b><span style="font-family:simsun,serif">注：</span></b></font><b><font size="2"><a href="http://www.ettus.com/uhd_docs/manual/html/usrp1.html" style="font-family:simsun,serif" target="_blank">UHD - USRP Application Notes</a><span style="font-family:simsun,serif">（原文出处，翻译整理仅供参考!）</span></font></b></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div id="sites-attachments-container">
</div>
</div>
</div> 
</td> 
<td id="sites-chrome-sidebar-right" class="sites-layout-sidebar-right initial" style="width:190px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_04328132504654081" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.microembedded.com.cn/" class="sites-navigation-link">微嵌软件技术(北京)有限责任公司</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7209174634271963" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../kb/usrp.html" class="sites-navigation-link">微嵌 - KnowledgeBase</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/usrp" jotid="wuid:gx:32517581af6b8b5b" class="sites-navigation-link">FAQ: 如何选择 USRP 平台 ?</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/usrpe1xx" jotid="wuid:gx:320105673ec850f8" class="sites-navigation-link">FAQ: 如何着手 E1XX 系列 ?</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/usrp2howto" jotid="wuid:gx:2a822d673b93e67b" class="sites-navigation-link">FAQ: 如何着手 USRP2 ？</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_8129618135961609" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://kb.microembedded.com/grc" class="sites-navigation-link">微嵌 - GRC 中文维客</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7612165220984319" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://kb.microembedded.com/uhdwikistart" class="sites-navigation-link">微嵌 - UHD 中文维客</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/uhddboards" jotid="wuid:gx:1fa384b816b979f" class="sites-navigation-link">UHD: UHD 下的 USRP 子板</a></div></li><li class=""><div class="current-bg" jotid="wuid:gx:4f4c36184c668f44" dir="ltr" style="padding-left: 5px;">UHD: UHD 下的 USRP 母板</div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/usrp2uhdmanual" jotid="wuid:gx:555f526449542c7a" class="sites-navigation-link">UHD: UHD 下的 USRP2/N210</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7189595725178437" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_08307463648904134" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://kb.microembedded.com/ossie" class="sites-navigation-link">微嵌 - OSSIE 中文维客</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://kb.microembedded.com/sdr" class="sites-navigation-link">微嵌 - SDR 教育园地</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://ossie.microembedded.com/titleindex" class="sites-navigation-link">微嵌 - OSSIE 按标题索引</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_9846266509709335" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_5419183123406403" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://gnuradio.microembedded.com/wikistart" class="sites-navigation-link">微嵌 - GNU Radio 中文维客</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://diy.microembedded.com/" class="sites-navigation-link">微嵌 - 搭建软件无线电系统</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://gnuradio.microembedded.com/openbts" class="sites-navigation-link">微嵌 - OpenBTS 中文维客</a></div></li></ul></div></div>
</td>
</tr>
</tbody></table>
                    
                     <!-- InstanceEndEditable --> </div>
                </div>
                <div id="sites-chrome-footer-wrapper">
                    <div id="sites-chrome-footer-wrapper-inside">
                        <div id="sites-chrome-footer">
                            <div xmlns="http://www.w3.org/1999/xhtml" class="sites-subfooter">
                                <div class="sites-subfooter-content">
                                    <div dir="ltr">
                                        <div style="overflow:auto;text-align:center;">
                                            <div>
                                                <p><b><span style="font-family:simsun,serif"><a href="http://www.microembedded.com.cn/">微嵌电子技术（北京）有限责任公司</a></span></b></p>
                                                <span style="font-family:simsun,serif"><br>
                                                <span style="font-family:ms song,monospace"><a href="mailto:info@microembedded.com">info@microembedded.com</a></span><br>
                                                <br>
                                                电话：（010）62416824 / (010) 82168683 传真：（010）62416834  客服 QQ：800028546<br>
                                                <br>
                                                地址：<a href="http://g.co/maps/y8g9q">北京市海淀区中关村南大街甲 10 号银海大厦七层南 217 室</a> 邮编：100081<br>
                                                <br>
                                                <br>
                                                <a href="http://www.miibeian.gov.cn/">©2009 MicroEmbedded 备案信息：京ICP备15049573号 京公网安备：110108904713</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="sites-chrome-onebar-footer"> </div>
</body>
<!-- InstanceEnd --></html>